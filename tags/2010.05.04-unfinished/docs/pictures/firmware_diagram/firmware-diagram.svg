<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<!-- Created with Inkscape (http://www.inkscape.org/) -->
<svg
   xmlns:dc="http://purl.org/dc/elements/1.1/"
   xmlns:cc="http://creativecommons.org/ns#"
   xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#"
   xmlns:svg="http://www.w3.org/2000/svg"
   xmlns="http://www.w3.org/2000/svg"
   xmlns:sodipodi="http://sodipodi.sourceforge.net/DTD/sodipodi-0.dtd"
   xmlns:inkscape="http://www.inkscape.org/namespaces/inkscape"
   width="1488.189"
   height="1052.3622"
   id="svg2"
   sodipodi:version="0.32"
   inkscape:version="0.46"
   version="1.0"
   sodipodi:docname="firmware-diagram.svg"
   inkscape:output_extension="org.inkscape.output.svg.inkscape"
   inkscape:export-filename="/media/data/05_assembly/project-BicycleLEDPOV/svn_code.google/Pictures/firmware_diagram/firmware-diagram.png"
   inkscape:export-xdpi="53.504494"
   inkscape:export-ydpi="53.504494"
   sodipodi:docbase="C:\Users\jpinto\Documents\01_projectos\90-auto_formacao\BicycleLEDPOV\trunk\BicycleLEDPOV\Pictures\diagram">
  <defs
     id="defs4">
    <inkscape:perspective
       sodipodi:type="inkscape:persp3d"
       inkscape:vp_x="0 : 526.18109 : 1"
       inkscape:vp_y="6.123234e-14 : 1000 : 0"
       inkscape:vp_z="744.09448 : 526.18109 : 1"
       inkscape:persp3d-origin="372.04724 : 350.78739 : 1"
       id="perspective10" />
    <inkscape:perspective
       id="perspective3277"
       inkscape:persp3d-origin="372.04724 : 350.78739 : 1"
       inkscape:vp_z="744.09448 : 526.18109 : 1"
       inkscape:vp_y="0 : 1000 : 0"
       inkscape:vp_x="0 : 526.18109 : 1"
       sodipodi:type="inkscape:persp3d" />
    <inkscape:perspective
       id="perspective3412"
       inkscape:persp3d-origin="372.04724 : 350.78739 : 1"
       inkscape:vp_z="744.09448 : 526.18109 : 1"
       inkscape:vp_y="0 : 1000 : 0"
       inkscape:vp_x="0 : 526.18109 : 1"
       sodipodi:type="inkscape:persp3d" />
    <inkscape:perspective
       id="perspective3496"
       inkscape:persp3d-origin="372.04724 : 350.78739 : 1"
       inkscape:vp_z="744.09448 : 526.18109 : 1"
       inkscape:vp_y="0 : 1000 : 0"
       inkscape:vp_x="0 : 526.18109 : 1"
       sodipodi:type="inkscape:persp3d" />
    <inkscape:perspective
       id="perspective3546"
       inkscape:persp3d-origin="372.04724 : 350.78739 : 1"
       inkscape:vp_z="744.09448 : 526.18109 : 1"
       inkscape:vp_y="0 : 1000 : 0"
       inkscape:vp_x="0 : 526.18109 : 1"
       sodipodi:type="inkscape:persp3d" />
    <inkscape:perspective
       id="perspective3596"
       inkscape:persp3d-origin="372.04724 : 350.78739 : 1"
       inkscape:vp_z="744.09448 : 526.18109 : 1"
       inkscape:vp_y="0 : 1000 : 0"
       inkscape:vp_x="0 : 526.18109 : 1"
       sodipodi:type="inkscape:persp3d" />
    <inkscape:perspective
       id="perspective3646"
       inkscape:persp3d-origin="372.04724 : 350.78739 : 1"
       inkscape:vp_z="744.09448 : 526.18109 : 1"
       inkscape:vp_y="0 : 1000 : 0"
       inkscape:vp_x="0 : 526.18109 : 1"
       sodipodi:type="inkscape:persp3d" />
    <inkscape:perspective
       id="perspective3844"
       inkscape:persp3d-origin="372.04724 : 350.78739 : 1"
       inkscape:vp_z="744.09448 : 526.18109 : 1"
       inkscape:vp_y="0 : 1000 : 0"
       inkscape:vp_x="0 : 526.18109 : 1"
       sodipodi:type="inkscape:persp3d" />
    <inkscape:perspective
       id="perspective3943"
       inkscape:persp3d-origin="372.04724 : 350.78739 : 1"
       inkscape:vp_z="744.09448 : 526.18109 : 1"
       inkscape:vp_y="0 : 1000 : 0"
       inkscape:vp_x="0 : 526.18109 : 1"
       sodipodi:type="inkscape:persp3d" />
    <inkscape:perspective
       id="perspective2625"
       inkscape:persp3d-origin="372.04724 : 350.78739 : 1"
       inkscape:vp_z="744.09448 : 526.18109 : 1"
       inkscape:vp_y="0 : 1000 : 0"
       inkscape:vp_x="0 : 526.18109 : 1"
       sodipodi:type="inkscape:persp3d" />
  </defs>
  <sodipodi:namedview
     id="base"
     pagecolor="#ffffff"
     bordercolor="#666666"
     borderopacity="1.0"
     gridtolerance="10000"
     guidetolerance="10"
     objecttolerance="10"
     inkscape:pageopacity="0.0"
     inkscape:pageshadow="2"
     inkscape:zoom="0.52342833"
     inkscape:cx="902.08627"
     inkscape:cy="395.97503"
     inkscape:document-units="px"
     inkscape:current-layer="layer1"
     showgrid="false"
     inkscape:window-width="1679"
     inkscape:window-height="985"
     inkscape:window-x="0"
     inkscape:window-y="6"
     showguides="true"
     inkscape:guide-bbox="true" />
  <metadata
     id="metadata7">
    <rdf:RDF>
      <cc:Work
         rdf:about="">
        <dc:format>image/svg+xml</dc:format>
        <dc:type
           rdf:resource="http://purl.org/dc/dcmitype/StillImage" />
      </cc:Work>
      <cc:Work
         rdf:about="">
        <dc:format>image/svg+xml</dc:format>
        <dc:type
           rdf:resource="http://purl.org/dc/dcmitype/StillImage" />
      </cc:Work>
    </rdf:RDF>
  </metadata>
  <g
     inkscape:label="Layer 1"
     inkscape:groupmode="layer"
     id="layer1">
    <rect
       style="fill:#00ffb1;fill-opacity:1;stroke:none;stroke-width:13.61600018;stroke-linecap:butt;stroke-miterlimit:4;stroke-dasharray:none;stroke-opacity:1"
       id="rect3654"
       width="0"
       height="36.474686"
       x="844.32141"
       y="513.34741"
       rx="6.8750577"
       ry="20.874796" />
    <text
       id="text2436"
       y="738.08801"
       x="697.32562"
       style="font-size:12px;font-style:normal;font-weight:normal;fill:#000000;fill-opacity:1;stroke:none;stroke-width:1px;stroke-linecap:butt;stroke-linejoin:miter;stroke-opacity:1;font-family:Bitstream Vera Sans"
       xml:space="preserve"><tspan
         y="738.08801"
         x="697.32562"
         id="tspan2438"
         sodipodi:role="line" /></text>
    <path
       style="opacity:1;fill:#555555;fill-opacity:1;fill-rule:evenodd;stroke:none;stroke-width:6;stroke-linecap:butt;stroke-linejoin:miter;marker:none;stroke-miterlimit:4;stroke-dasharray:none;stroke-dashoffset:0;stroke-opacity:1;visibility:visible;display:inline;overflow:visible;enable-background:accumulate"
       d="M 726.92419,145.36554 C 532.40736,147.22985 342.34249,235.19814 257.29919,405.30305 L 262.64294,407.99055 C 349.15975,234.93829 546.49106,147.67944 745.64294,151.45929 C 944.79482,155.23914 1145.2726,249.98718 1238.0491,440.36555 L 1243.4241,437.74055 C 1149.5005,245.00813 946.74703,149.27382 745.76794,145.45929 C 739.48734,145.34009 733.19893,145.3054 726.92419,145.36554 z"
       id="path3293" />
    <path
       style="opacity:1;fill:#555555;fill-opacity:1;fill-rule:evenodd;stroke:none;stroke-width:6;stroke-linecap:butt;stroke-linejoin:miter;marker:none;stroke-miterlimit:4;stroke-dasharray:none;stroke-dashoffset:0;stroke-opacity:1;visibility:visible;display:inline;overflow:visible;enable-background:accumulate"
       d="M 754.88884,874.29385 C 949.40567,872.42954 1139.4705,784.46126 1224.5138,614.35636 L 1219.17,611.66886 C 1132.6532,784.72111 935.32197,871.97995 736.17009,868.2001 C 537.01821,864.42025 336.5404,769.67222 243.7639,579.29386 L 238.3889,581.91886 C 332.3125,774.65127 535.066,870.38557 736.04509,874.2001 C 742.32569,874.31931 748.6141,874.35399 754.88884,874.29385 z"
       id="path3299" />
    <rect
       style="opacity:1;fill:#98fb98;fill-opacity:1;stroke:#000000;stroke-width:0.60000002;stroke-linecap:butt;stroke-miterlimit:4;stroke-dasharray:none;stroke-opacity:1"
       id="rect2449"
       width="487.68002"
       height="522.80383"
       x="146.49808"
       y="247.23378"
       rx="84.566216"
       ry="41.336952" />
    <rect
       style="opacity:1;fill:#ffc0cb;fill-opacity:1;stroke:#000000;stroke-width:0.60000002;stroke-linecap:butt;stroke-miterlimit:4;stroke-dasharray:none;stroke-opacity:1"
       id="rect2453"
       width="487.68002"
       height="522.80383"
       x="834.78882"
       y="247.23378"
       rx="84.566216"
       ry="41.336952" />
    <path
       style="fill:none;fill-rule:evenodd;stroke:#000000;stroke-width:1px;stroke-linecap:butt;stroke-linejoin:miter;stroke-opacity:1"
       d="M 634.4781,508.6357 L 634.4781,508.6357"
       id="path2459"
       inkscape:connector-type="polyline"
       inkscape:connection-start="#rect2449"
       inkscape:connection-end="#rect2449" />
    <text
       xml:space="preserve"
       style="font-size:45.86645126px;font-style:normal;font-weight:normal;fill:#000000;fill-opacity:1;stroke:none;stroke-width:1px;stroke-linecap:butt;stroke-linejoin:miter;stroke-opacity:1;font-family:Bitstream Vera Sans"
       id="text3303"
       y="131.31439"
       x="575.59888"><tspan
         sodipodi:role="line"
         id="tspan3305"
         x="575.59888"
         y="131.31439">USB disconnect</tspan></text>
    <text
       xml:space="preserve"
       style="font-size:45.86645126px;font-style:normal;font-weight:normal;fill:#000000;fill-opacity:1;stroke:none;stroke-width:1px;stroke-linecap:butt;stroke-linejoin:miter;stroke-opacity:1;font-family:Bitstream Vera Sans"
       id="text3323"
       y="921.72906"
       x="567.08276"><tspan
         sodipodi:role="line"
         id="tspan3325"
         x="567.08276"
         y="921.72906">USB connect</tspan></text>
    <path
       style="fill:#555555;fill-opacity:1;fill-rule:evenodd;stroke:#696969;stroke-width:2.77741909;stroke-linecap:butt;stroke-linejoin:miter;marker:none;marker-start:none;marker-mid:none;marker-end:none;stroke-miterlimit:4;stroke-dashoffset:0;stroke-opacity:1;visibility:visible;display:inline;overflow:visible;enable-background:accumulate"
       d="M 1049.1452,211.01423 L 1080.943,257.84576 L 1081.0233,258.72652 L 1026.3328,238.40258 L 1049.1452,211.01423 z"
       id="rect3329"
       sodipodi:nodetypes="ccccc" />
    <path
       style="fill:#555555;fill-opacity:1;fill-rule:evenodd;stroke:#696969;stroke-width:2.77741909;stroke-linecap:butt;stroke-linejoin:miter;marker:none;marker-start:none;marker-mid:none;marker-end:none;stroke-miterlimit:4;stroke-dashoffset:0;stroke-opacity:1;visibility:visible;display:inline;overflow:visible;enable-background:accumulate"
       d="M 430.76418,810.22185 L 398.98863,763.37523 L 398.90874,762.49444 L 453.58959,782.84434 L 430.76418,810.22185 z"
       id="path3332"
       sodipodi:nodetypes="ccccc" />
    <text
       xml:space="preserve"
       style="font-size:43.13204193px;font-style:normal;font-weight:normal;fill:#000000;fill-opacity:1;stroke:none;stroke-width:1px;stroke-linecap:butt;stroke-linejoin:miter;stroke-opacity:1;font-family:Bitstream Vera Sans"
       x="242.45508"
       y="333.69229"
       id="text3336"><tspan
         sodipodi:role="line"
         id="tspan3338"
         x="242.45508"
         y="333.69229">Firmware API</tspan></text>
    <g
       id="g3384"
       transform="translate(-15.447749,89.543584)">
      <rect
         rx="22.965544"
         ry="22.965542"
         y="281.35696"
         x="208.40759"
         height="350.50415"
         width="380.22424"
         id="rect3334"
         style="opacity:1;fill:#f5fdff;fill-opacity:1;fill-rule:nonzero;stroke:#000000;stroke-width:1.01142013;stroke-linecap:butt;stroke-linejoin:miter;marker:none;marker-start:none;marker-mid:none;marker-end:none;stroke-miterlimit:4;stroke-dasharray:none;stroke-dashoffset:0;stroke-opacity:1;visibility:visible;display:inline;overflow:visible;enable-background:accumulate" />
      <text
         id="text3340"
         y="345.34198"
         x="216.14629"
         style="font-size:25.57689476px;font-style:normal;font-weight:normal;fill:#000000;fill-opacity:1;stroke:none;stroke-width:1px;stroke-linecap:butt;stroke-linejoin:miter;stroke-opacity:1;font-family:Bitstream Vera Sans"
         xml:space="preserve"><tspan
           id="tspan3344"
           y="345.34198"
           x="216.14629"
           sodipodi:role="line">- receive commands, send</tspan><tspan
           id="tspan3358"
           y="377.31311"
           x="216.14629"
           sodipodi:role="line">and receive data, to/from PC</tspan></text>
      <text
         id="text3360"
         y="433.85291"
         x="216.14629"
         style="font-size:24.71344566px;font-style:normal;font-weight:normal;fill:#000000;fill-opacity:1;stroke:none;stroke-width:1px;stroke-linecap:butt;stroke-linejoin:miter;stroke-opacity:1;font-family:Bitstream Vera Sans"
         xml:space="preserve"><tspan
           id="tspan3364"
           y="433.85291"
           x="216.14629"
           sodipodi:role="line">-- read/write data to</tspan><tspan
           id="tspan3368"
           y="464.74472"
           x="216.14629"
           sodipodi:role="line">DataFlash memory</tspan></text>
      <text
         id="text3372"
         y="523.45355"
         x="216.14629"
         style="font-size:25.57689476px;font-style:normal;font-weight:normal;fill:#000000;fill-opacity:1;stroke:none;stroke-width:1px;stroke-linecap:butt;stroke-linejoin:miter;stroke-opacity:1;font-family:Bitstream Vera Sans"
         xml:space="preserve"><tspan
           id="tspan3376"
           y="523.45355"
           x="216.14629"
           sodipodi:role="line">-- control hardware as LEDs,</tspan><tspan
           id="tspan3380"
           y="555.42468"
           x="216.14629"
           sodipodi:role="line">sensor hall effect,</tspan><tspan
           id="tspan3382"
           y="587.39581"
           x="216.14629"
           sodipodi:role="line">DataFlash memory</tspan></text>
    </g>
    <text
       xml:space="preserve"
       style="font-size:43.13204193px;font-style:normal;font-weight:normal;fill:#000000;fill-opacity:1;stroke:none;stroke-width:1px;stroke-linecap:butt;stroke-linejoin:miter;stroke-opacity:1;font-family:Bitstream Vera Sans"
       x="970.4339"
       y="360.7106"
       id="text3397"><tspan
         sodipodi:role="line"
         id="tspan3399"
         x="970.4339"
         y="360.7106">Make POV</tspan></text>
    <g
       id="g3457"
       transform="translate(-19.664379,95.931381)">
      <rect
         rx="22.965544"
         ry="22.965542"
         y="315.43555"
         x="910.82196"
         height="270.92227"
         width="380.34631"
         id="rect3403"
         style="fill:#f5fdff;fill-opacity:1;fill-rule:nonzero;stroke:#000000;stroke-width:0.88935894;stroke-linecap:butt;stroke-linejoin:miter;marker:none;marker-start:none;marker-mid:none;marker-end:none;stroke-miterlimit:4;stroke-dasharray:none;stroke-dashoffset:0;stroke-opacity:1;visibility:visible;display:inline;overflow:visible;enable-background:accumulate" />
      <text
         id="text3405"
         y="379.4816"
         x="918.6217"
         style="font-size:25.57689476px;font-style:normal;font-weight:normal;fill:#000000;fill-opacity:1;stroke:none;stroke-width:1px;stroke-linecap:butt;stroke-linejoin:miter;stroke-opacity:1;font-family:Bitstream Vera Sans"
         xml:space="preserve"><tspan
           y="379.4816"
           x="918.6217"
           sodipodi:role="line"
           id="tspan3431">- determine velocity by</tspan><tspan
           y="411.45273"
           x="918.6217"
           sodipodi:role="line"
           id="tspan3438">reading sensor hall effect</tspan></text>
      <text
         id="text3411"
         y="472.04526"
         x="921.32355"
         style="font-size:24.71344566px;font-style:normal;font-weight:normal;fill:#000000;fill-opacity:1;stroke:none;stroke-width:1px;stroke-linecap:butt;stroke-linejoin:miter;stroke-opacity:1;font-family:Bitstream Vera Sans"
         xml:space="preserve"><tspan
           id="tspan3415"
           y="472.04526"
           x="921.32355"
           sodipodi:role="line">- in correct time, read data</tspan><tspan
           id="tspan3453"
           y="502.93707"
           x="921.32355"
           sodipodi:role="line">from DataFlash memory and</tspan><tspan
           id="tspan3455"
           y="533.82886"
           x="921.32355"
           sodipodi:role="line">send it LEDs drivers</tspan></text>
    </g>
  </g>
</svg>
